<script setup lang="ts">
import { ref } from 'vue';

import imgNDI from '@/assets/img/projets/ndi25/NUIT INFO 2025.png';
import pdfSujet from '@/assets/docs/La Nuit de l‚ÄôInfo 2025 - Sujet.pdf';
import imgNDIAccueil from '@/assets/img/projets/ndi25/accueil.png';
import imgNDISobriete from '@/assets/img/projets/ndi25/sobriete.png';
import imgNDIlaser from '@/assets/img/projets/ndi25/laser.png';

const gallery = [
  { src: imgNDIAccueil, caption: "Page d'accueil du Village Num√©rique" },
  { src: imgNDISobriete, caption: "Page sobri√©t√© num√©rique" },
  { src: imgNDIlaser, caption: "Mini jeux laser game" }
];

const stack = [
  { name: 'Vue.js', icon: 'https://cdn.jsdelivr.net/gh/devicons/devicon/icons/vuejs/vuejs-original.svg' },
  { name: 'JavaScript', icon: 'https://cdn.jsdelivr.net/gh/devicons/devicon/icons/javascript/javascript-original.svg' },
  { name: 'HTML5', icon: 'https://cdn.jsdelivr.net/gh/devicons/devicon/icons/html5/html5-original.svg' },
  { name: 'CSS3', icon: 'https://cdn.jsdelivr.net/gh/devicons/devicon/icons/css3/css3-original.svg' }
];

const competences = [
  "D√©veloppement sous contrainte de temps (15h)",
  "Collaboration Agile (Git) & Travail en √©quipe",
  "Int√©gration Web",
  "Green IT & Sobri√©t√© num√©rique",
  "Culture G√©n√©rale & Sensibilisation"
];

const isLightboxOpen = ref(false);
const currentImage = ref('');

const openLightbox = (imgSrc: string) => {
  currentImage.value = imgSrc;
  isLightboxOpen.value = true;
  document.body.style.overflow = 'hidden';
};

const closeLightbox = () => {
  isLightboxOpen.value = false;
  currentImage.value = '';
  document.body.style.overflow = 'auto';
};
</script>

<template>
  <article>
    <header class="mb-12">
      <div class="flex flex-wrap gap-3 mb-4">
        <span class="px-3 py-1 bg-indigo-100 text-indigo-600 text-sm font-bold rounded-full">WEB</span>
        <span class="px-3 py-1 bg-amber-100 text-amber-700 text-sm font-bold rounded-full">Hackathon</span>
      </div>
      <h1 class="text-4xl md:text-5xl font-bold text-slate-900 dark:text-white mb-6">
        Nuit de l'Info 2025
      </h1>

      <div class="w-full h-64 md:h-96 rounded-3xl overflow-hidden shadow-2xl mb-8">
        <img :src="imgNDI" alt="Banni√®re Nuit de l'info" class="w-full h-full object-cover" />
      </div>
    </header>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-12">

      <div class="lg:col-span-2 space-y-16">

        <section>
          <h2 class="text-2xl font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2">
            <span class="text-indigo-600">#</span> Le Sujet : Village Num√©rique R√©sistant
          </h2>

          <div class="prose dark:prose-invert text-slate-600 dark:text-slate-300 text-lg leading-relaxed space-y-4">
            <p>
              Le th√®me de cette ann√©e, <strong>"Le Village Num√©rique R√©sistant"</strong>, nous invitait √† imaginer comment les √©tablissements scolaires peuvent tenir t√™te aux g√©ants du Web ("Big Tech") √† la mani√®re de David contre Goliath.
            </p>
            <p>
              L'objectif √©tait de concevoir une application Web ludique et engageante pour promouvoir la d√©marche <strong>NIRD</strong> (Num√©rique Inclusif, Responsable et Durable). Il fallait aider les √©l√®ves et enseignants √† reprendre le pouvoir sur leurs outils num√©riques.
            </p>

            <div class="mt-6">
              <a
                :href="pdfSujet"
                target="_blank"
                class="inline-flex items-center gap-2 px-5 py-3 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-200 rounded-xl font-semibold hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors border border-slate-200 dark:border-slate-700"
              >
                <svg class="w-5 h-5 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path></svg>
                Voir le sujet officiel (PDF)
              </a>
            </div>
          </div>
        </section>

        <section>
          <h2 class="text-2xl font-bold text-slate-900 dark:text-white mb-8 flex items-center gap-2">
            <span class="text-indigo-600">#</span> D√©roulement de la nuit
          </h2>

          <div class="relative border-l-2 border-indigo-200 dark:border-indigo-900 ml-3 space-y-10">
            <div class="relative pl-8">
              <span class="absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-indigo-600 border-4 border-white dark:border-slate-950"></span>
              <h3 class="text-xl font-bold text-indigo-600 mb-1">18h - 20h : Brainstorming</h3>
              <p class="text-slate-600 dark:text-slate-400">
                Lors du lancement de l‚Äô√©v√©nement, nous avons pris connaissance du th√®me et des d√©fis propos√©s. Une premi√®re session de brainstorming a permis de g√©n√©rer des id√©es et de d√©finir un concept original autour du sujet. Pour mener √† bien ce projet, nous avons adopt√© une m√©thodologie agile en nous concentrant sur une organisation claire et une communication efficace au sein de l'√©quipe.
              </p>
              <p class="text-slate-600 dark:text-slate-400">
                Chaque membre de l'√©quipe s'est vu attribuer une mission sp√©cifique :
              </p>
              <ul>
                <li class="text-slate-600 dark:text-slate-400"> ‚óè Cr√©ation d'un chatbot</li>
                <li class="text-slate-600 dark:text-slate-400"> ‚óè G√©n√©ration des images</li>
                <li class="text-slate-600 dark:text-slate-400"> ‚óè Jeux laser game</li>
                <li class="text-slate-600 dark:text-slate-400"> ‚óè Pages principales du site</li>
              </ul>
            </div>
            <div class="relative pl-8">
              <span class="absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-indigo-600 border-4 border-white dark:border-slate-950"></span>
              <h3 class="text-xl font-bold text-indigo-600 mb-1">20h - 05h : D√©veloppement Intensif</h3>
              <p class="text-slate-600 dark:text-slate-400">
                Une fois les id√©es principales d√©finies et les r√¥les attribu√©s, nous avons rapidement √©labor√© un prototype fonctionnel de l‚Äôapplication. Cette √©tape nous a permis de visualiser la structure globale du site, d‚Äôorganiser les diff√©rentes sections (accueil, contenus √©ducatifs, quiz, animations) et de tester l‚Äôergonomie de l‚Äôinterface utilisateur. L‚Äôobjectif √©tait de valider notre concept initial tout en identifiant les √©ventuelles contraintes techniques ou ergonomiques.
              </p>
              <br>
              <p class="text-slate-600 dark:text-slate-400">
                Le projet a √©t√© construit par √©tapes, avec des sessions de tests r√©guli√®res pour garantir la qualit√© du code et la coh√©rence fonctionnelle. Gr√¢ce √† Vue.js, nous avons pu rapidement construire une application web dynamique avec une navigation fluide entre les sections √©ducatives, les jeux et les animations visuelles.
              </p>
            </div>
            <div class="relative pl-8">
              <span class="absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-indigo-600 border-4 border-white dark:border-slate-950"></span>
              <h3 class="text-xl font-bold text-indigo-600 mb-1">05h - 08h : Finitions & Livraison</h3>
              <p class="text-slate-600 dark:text-slate-400">
                Merge final, r√©solution des conflits Git et d√©ploiement. Fatigu√©s mais fiers !
              </p>
            </div>
          </div>
        </section>

        <section>
          <h2 class="text-2xl font-bold text-slate-900 dark:text-white mb-6 flex items-center gap-2">
            <span class="text-indigo-600">#</span> Galerie
          </h2>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div
              v-for="(image, idx) in gallery"
              :key="idx"
              class="rounded-xl overflow-hidden border border-slate-200 dark:border-slate-700 shadow-sm group cursor-zoom-in"
              @click="openLightbox(image.src)"
            >
              <img
                :src="image.src"
                class="w-full h-48 object-cover transition-transform duration-500 group-hover:scale-105"
                alt="Capture projet"
              />
              <p class="p-2 text-center text-sm text-slate-500 bg-white dark:bg-slate-800 border-t border-slate-100 dark:border-slate-700">
                {{ image.caption }}
              </p>
            </div>
          </div>
        </section>

        <section>
          <h2 class="text-2xl font-bold text-slate-900 dark:text-white mb-6 flex items-center gap-2">
            <span class="text-indigo-600">#</span> Ma Contribution
          </h2>

          <div class="space-y-6">

            <div class="bg-emerald-50 dark:bg-emerald-900/10 p-6 rounded-2xl border border-emerald-100 dark:border-emerald-800">
              <h3 class="text-xl font-bold text-emerald-700 dark:text-emerald-400 mb-2">üåø Page "Sobri√©t√© Num√©rique"</h3>
              <p class="text-slate-700 dark:text-slate-300 mb-4">
                J'ai enti√®rement con√ßu et d√©velopp√© la page d√©di√©e √† la sensibilisation. Elle explique de mani√®re p√©dagogique les impacts du num√©rique (pollution, consommation) et les bonnes pratiques NIRD.
              </p>
              <a
                href="https://yota02.github.io/Ndi-2026/#/sobriete-numerique"
                target="_blank"
                class="inline-flex items-center gap-2 text-emerald-700 dark:text-emerald-400 font-bold hover:underline"
              >
                Voir la page Sobri√©t√©
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg>
              </a>
            </div>

            <div class="bg-indigo-50 dark:bg-indigo-900/10 p-6 rounded-2xl border border-indigo-100 dark:border-indigo-800">
              <h3 class="text-xl font-bold text-indigo-700 dark:text-indigo-400 mb-2">üé® Design & UI (CSS Natif)</h3>
              <p class="text-slate-700 dark:text-slate-300">
                Pour la page d'accueil, j'ai fait le choix technique de <strong>ne pas utiliser de framework CSS</strong> (comme Tailwind) mais de tout r√©aliser en <strong>CSS3 pur</strong>.
                <br><br>
                Cela m'a permis d'avoir un contr√¥le total sur l'identit√© visuelle, de cr√©er des animations fluides sur mesure, et surtout de garantir un code ultra-l√©ger, en parfaite coh√©rence avec le th√®me de la sobri√©t√© num√©rique.
              </p>
            </div>

          </div>
        </section>

        <section>
          <h2 class="text-2xl font-bold text-slate-900 dark:text-white mb-6 flex items-center gap-2">
            <span class="text-indigo-600">#</span> Bilan & Comp√©tences
          </h2>

          <div class="mb-6 text-lg text-slate-600 dark:text-slate-300">
            <p>
              Cette nuit m'a appris que <strong>l'organisation est aussi importante que le code</strong>. Face √† la fatigue, c'est la rigueur du Git Flow et la communication qui nous ont sauv√©s. J'ai aussi d√©couvert concr√®tement les contraintes de l'√©co-conception.
            </p>
          </div>

          <div class="flex flex-wrap gap-3">
            <span
              v-for="skill in competences"
              :key="skill"
              class="px-4 py-2 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 rounded-lg font-medium border border-slate-200 dark:border-slate-700"
            >
              ‚úÖ {{ skill }}
            </span>
          </div>
        </section>

      </div>

      <div class="lg:col-span-1 space-y-8">

        <div class="bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-800 shadow-lg sticky top-32">
          <h3 class="font-bold text-slate-900 dark:text-white mb-4 text-lg">Fiche Technique</h3>
          <ul class="space-y-3 text-slate-600 dark:text-slate-400 mb-8">
            <li class="flex justify-between border-b border-slate-100 dark:border-slate-800 pb-2">
              <span>üìÖ Date</span> <span class="font-medium text-slate-900 dark:text-white">4 - 5 D√©c. 2025</span>
            </li>
            <li class="flex justify-between border-b border-slate-100 dark:border-slate-800 pb-2">
              <span>‚è±Ô∏è Dur√©e</span> <span class="font-medium text-slate-900 dark:text-white">15 heures</span>
            </li>
            <li class="flex justify-between border-b border-slate-100 dark:border-slate-800 pb-2">
              <span>üë• √âquipe</span> <span class="font-medium text-slate-900 dark:text-white">10 pers.</span>
            </li>
          </ul>

          <h3 class="font-bold text-slate-900 dark:text-white mb-4 text-lg">Stack Technique</h3>
          <div class="flex flex-wrap gap-2 mb-8">
            <div
              v-for="tech in stack"
              :key="tech.name"
              class="flex items-center gap-2 px-3 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-sm"
            >
              <img :src="tech.icon" :alt="tech.name" class="w-5 h-5" />
              <span class="text-sm font-medium text-slate-700 dark:text-slate-200">{{ tech.name }}</span>
            </div>
          </div>

          <div class="flex flex-col gap-3">
            <a href="https://github.com/Yota02/Ndi-2026" target="_blank" class="flex justify-center items-center gap-2 w-full py-3 bg-slate-900 text-white text-center rounded-xl hover:bg-slate-700 transition font-semibold shadow-lg shadow-slate-900/20">
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.04-.015-2.04-3.33.72-4.035-1.41-4.035-1.41-.54-1.38-1.335-1.755-1.335-1.755-1.085-.735.09-.72.09-.72 1.2.075 1.83 1.245 1.83 1.245 1.05 1.785 2.76 1.275 3.435.975.105-.75.405-1.275.75-1.575-2.655-.3-5.445-1.335-5.445-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.285 0 .315.225.69.825.57C20.565 21.795 24 17.31 24 12c0-6.63-5.37-12-12-12z"/></svg>
              Voir le Repo
            </a>
            <a href="https://yota02.github.io/Ndi-2026/#/" target="_blank" class="flex justify-center items-center gap-2 w-full py-3 bg-indigo-600 text-white text-center rounded-xl hover:bg-indigo-700 transition font-semibold shadow-lg shadow-indigo-500/30">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg>
              Voir le Live
            </a>
          </div>
        </div>
      </div>

    </div>

    <Teleport to="body">
      <Transition name="fade">
        <div
          v-if="isLightboxOpen"
          class="fixed inset-0 z-[9999] bg-black/90 backdrop-blur-sm flex items-center justify-center p-4"
          @click="closeLightbox"
        >
          <button
            class="absolute top-6 right-6 text-white/70 hover:text-white transition-colors p-2"
            @click.stop="closeLightbox"
          >
            <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
          </button>

          <img
            :src="currentImage"
            class="max-w-full max-h-[90vh] rounded-lg shadow-2xl object-contain animate-zoom"
            @click.stop
            alt="Image en grand"
          />

          <p class="absolute bottom-6 text-white/80 text-center w-full px-4 font-medium">
            Cliquez n'importe o√π pour fermer
          </p>
        </div>
      </Transition>
    </Teleport>
  </article>
</template>
<style scoped>
.fade-enter-active,
.fade-leave-active {
  transition: opacity 0.3s ease;
}

.fade-enter-from,
.fade-leave-to {
  opacity: 0;
}

@keyframes zoomIn {
  from { opacity: 0; transform: scale(0.95); }
  to { opacity: 1; transform: scale(1); }
}

.animate-zoom {
  animation: zoomIn 0.3s ease-out forwards;
}
</style>
